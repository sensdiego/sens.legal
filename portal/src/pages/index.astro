---
import DocsLayout from '../layouts/DocsLayout.astro';
import { projects } from '../data/projects';
---

<DocsLayout title="Home" description="Legal intelligence infrastructure for Brazilian law.">
  <img src="/logo-hero.png" alt="sens.legal" class="hero-logo" />
  <p class="tagline">Legal intelligence infrastructure</p>

  <hr />

  <h2>What we're building</h2>

  <p>
    Legal professionals increasingly rely on LLMs that hallucinate case numbers,
    invent precedents, and don't understand the relational structure of Brazilian
    law. We're building the infrastructure to fix that.
  </p>

  <p>
    A lawyer asks a question. <strong>Juca</strong> captures the intent and starts
    a progressive briefing. The query reaches <strong>Valter</strong>, which
    searches 28,000 STJ decisions using hybrid search and a knowledge graph with
    207,000+ legal relationships. Every claim is verified against real court
    data — no hallucinated sources.
  </p>

  <p>
    Meanwhile, <strong>Douto</strong> processes ~50 legal books through an
    intelligent pipeline — PDF extraction, legal chunking, metadata enrichment,
    and semantic embeddings — turning doctrine into structured, searchable
    knowledge across 8 legal domains and ~31,500 enriched chunks.
  </p>

  <p>
    Soon, <strong>Leci</strong> will add federal legislation — statutes,
    regulations, normative acts — completing the research cycle from
    jurisprudence through doctrine to legislation.
  </p>

  <p>
    We're building the infrastructure so that every legal argument is backed by
    traceable sources, every precedent is real, and every lawyer has access to
    depth of research that today requires large teams.
  </p>

  <hr />

  <h2>Projects</h2>

  <div class="project-list">
    {projects.map((project) => (
      <div class="project-item">
        <div class="project-header">
          <h3><a href={`/projects/${project.subdomain}`}>{project.name}</a></h3>
          <span class="badge badge-alpha">{project.status}</span>
        </div>
        <p class="project-desc">{project.description}</p>
        <div class="project-stack">
          {project.stack.map((tech) => (
            <code>{tech}</code>
          ))}
        </div>
        <div class="project-links">
          <a href={project.docsUrl}>Docs</a>
          <a href={project.repo} target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
    ))}
  </div>

  <hr />

  <h2>Architecture</h2>

  <p>
    The ecosystem connects four projects through Valter's REST API and MCP server.
    LLMs like Claude and ChatGPT access the same capabilities as the Juca frontend
    — search, verification, graph analytics — through 28 MCP tools. Douto feeds
    doctrine knowledge into the pipeline via semantic embeddings.
  </p>

  <pre><code class="language-mermaid">graph LR
    subgraph Consumers
        JUCA[Juca Frontend]
        CLAUDE[Claude / ChatGPT]
    end

    subgraph "Valter Backend"
        API[REST API]
        MCP[MCP Server]
    end

    subgraph "Data Stores"
        PG[(PostgreSQL)]
        QD[(Qdrant)]
        N4J[(Neo4j)]
        RD[(Redis)]
    end

    JUCA --> API
    CLAUDE --> MCP --> API
    API --> PG & QD & N4J & RD</code></pre>

  <p>
    <a href="/architecture">View full architecture diagrams &rarr;</a>
  </p>
</DocsLayout>

<style>
  .hero-logo {
    display: block;
    max-width: 16rem;
    height: auto;
    margin-bottom: var(--space-sm);
  }

  .tagline {
    color: var(--color-text-muted);
    font-size: 1.125rem;
    margin-bottom: var(--space-xl);
  }

  hr {
    border: none;
    border-top: 1px solid var(--color-border);
    margin: var(--space-2xl) 0;
  }

  .project-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .project-item {
    border: 1px solid var(--color-border);
    border-radius: 4px;
    padding: var(--space-lg);
  }

  .project-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
  }

  .project-header h3 {
    font-size: 1.125rem;
    margin: 0;
  }

  .project-desc {
    color: var(--color-text-secondary);
    font-size: 0.9rem;
    margin-bottom: var(--space-sm);
  }

  .project-stack {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-bottom: var(--space-sm);
  }

  .project-stack code {
    font-size: 0.75rem;
  }

  .project-links {
    display: flex;
    gap: var(--space-md);
    font-size: 0.875rem;
  }

  .project-links a {
    color: var(--color-text-secondary);
  }

  .project-links a:hover {
    color: var(--color-text);
  }
</style>
